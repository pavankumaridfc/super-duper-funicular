jQuery(function($){var $body=$("body");function initHero(){var $hero=$('.hero'),win_width=$(window).width(),win_height=$(window).height(),header_height=$('.header').outerHeight();if($body.hasClass('home')){$hero.css({height:win_height+'px'})}else{$hero.css({height:header_height+'px'})}
if(win_width>0){$hero.find('.match-height').css({height:win_height+'px'})}else{$hero.find('.match-height').css({height:'auto'})}}
function initHomeHero(){var $home_hero=$('.home--hero'),win_width=$(window).width(),hero_height=win_width*.55,hero_height_d=hero_height/2;if(win_width<1200){$home_hero.find('.hero-featured').css('min-height',hero_height+'px')}else{$home_hero.find('.hero-featured').css('min-height',hero_height_d+'px')}}
$('.nav__main .nav-inner ul.nav-wrap li').each(function(){$(this).on({mouseleave:function(){var self=$(this);$(self).stop(!0,!0).removeClass('hover')},mouseenter:function(){var self=$(this);$(self).stop(!0,!0).addClass('hover')}})});function initPopup(){$('[data-popup-open]').on('click',function(e){var $this=$(this),video_id=$this.attr('video-id'),video_width=$this.attr('video-width'),video_height=$this.attr('video-height'),video_open_class=$this.attr('data-popup-open');parent_animate_classes=$this.closest('.animated').attr("class");$this.closest('.animated').removeAttr('class').addClass('animate-removed');$('[data-popup="'+video_open_class+'"]').find('.video-wrap').html('<iframe src="https://player.vimeo.com/video/'+video_id+'?autoplay=true" width="'+video_width+'" height="'+video_height+'" frameborder="0" webkitallowfullscreen mozallowfullscreen allowfullscreen></iframe>');$('[data-popup="'+video_open_class+'"]').css({opacity:1,top:'0px'});$('[data-popup="'+video_open_class+'"]').removeClass('popup-closed').addClass('popup-open');e.preventDefault()});$('[data-popup-close]').on('click',function(e){var video_close_class=$(this).attr('data-popup-close'),$popup=$('[data-popup="'+video_close_class+'"]');$popup.closest('.animate-removed').removeClass('animate-removed').addClass(parent_animate_classes);$popup.find('.video-wrap').empty();$popup.css({opacity:0,top:'-200%'});$popup.removeClass('popup-open').addClass('popup-closed');e.preventDefault()});$('.popup-clickout').on('click',function(){var $popup=$(this).parent();$popup.find('.video-wrap').empty();$popup.removeClass('popup-open').addClass('popup-closed').css({opacity:0,top:'-200%'})});$('[data-popup]').each(function(){var $this=$(this);if($this.hasClass('start-open')){$this.css({opacity:1,top:'0px'});$this.removeClass('popup-closed').addClass('popup-open')}
$this.css('height',$(window).outerHeight())})}
function initPopupAdjust(){$('.popup').each(function(){var $video_popup=$(this),window_width=$(window).width(),popup_height=$video_popup.find('.popup-inner').outerHeight(),popup_width=$video_popup.find('.popup-inner').outerWidth();if($(window).width()<768&&window.innerWidth>window.innerHeight){var window_height=$(window).height()-100}else{var window_height=$(window).height()-50}
var ratio=popup_height/popup_width,new_width=(window_height)/ratio;if(popup_height>window_height){$video_popup.find('.popup-inner').css({"max-width":new_width+"px"})}else if(popup_height<(window_height+1)){$video_popup.find('.popup-inner').css({"max-width":new_width+"px"})}})}
function initImageGallery(){var $image_gallery=$('.image-gallery');$image_gallery.isotope({itemSelector:'.image'});$image_gallery.isotope('layout')}
function initImageLightbox(){baguetteBox.run('.image-lightbox')}
function initColSlider(){$('.col-slider').each(function(){var screen_width=$(window).width();if(screen_width>767){$(this).slick({slidesToShow:1,slidesToScroll:1,infinite:!1,prevArrow:'<a class="slick-prev slick-arrow"><span></span></a>',nextArrow:'<a class="slick-next slick-arrow"><span></span></a>',dots:!1,focusOnSelect:!0})}})}
function initTestimonialSlider(){$('.testimonial-slider').slick({infinite:!0,speed:500,fade:!0,autoplay:!0,autoplaySpeed:5000,adaptiveHeight:!0,prevArrow:'<a class="slick-prev slick-arrow"><span></span></a>',nextArrow:'<a class="slick-next slick-arrow"><span></span></a>'})}
function initListingsSlider(){$('.listings-slider').slick({slidesToShow:4,slidesToScroll:1,infinite:!0,speed:500,autoplay:!0,autoplaySpeed:5000,adaptiveHeight:!0,prevArrow:'<a class="prev arrow"><svg id="f48a2282-a93c-44eb-bb9f-603a4480689c" data-name="Layer 1" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 255.99 511.995"><title>slider-prev</title><path d="M2.953,263.37,237.621,508.7a10.667,10.667,0,1,0,15.415-14.749L25.432,256l227.6-237.958a10.668,10.668,0,1,0-15.416-14.75L2.953,248.62A10.687,10.687,0,0,0,2.953,263.37Z" transform="translate(0 0)"/></svg></a>',nextArrow:'<a class="next arrow"><svg id="a122ec12-82cb-48cb-a680-aeda796acb29" data-name="Layer 1" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 255.99 511.995"><title>slider-next</title><path d="M253.036,248.62,18.37,3.287A10.668,10.668,0,0,0,2.954,18.037L230.557,256,2.953,493.954A10.668,10.668,0,0,0,18.369,508.7L253.036,263.37A10.685,10.685,0,0,0,253.036,248.62Z" transform="translate(0 0)"/></svg></a>',responsive:[{breakpoint:991,settings:{slidesToShow:2}},{breakpoint:767,settings:{slidesToShow:1}}]})}
var conformheight=function(container){$(container).each(function(){var $this=$(this),screen_width=$(window).width(),conform_stop=$this.data('conform-stop');parent_height=$this.find('.conform-parent').outerHeight();if(typeof conform_stop===typeof undefined&&conform_stop===!1){conform_stop=992}
if(screen_width>=conform_stop||(screen_width<992&&screen_width>767)){$this.find('.conform-child').css({height:parent_height+'px'})}else{$this.find('.conform-child').css('height','auto')}})}
var matchHeight=function(){function init(){eventListeners();matchHeight()}
function eventListeners(){$(window).on('resize',function(){matchHeight()})}
function matchHeight(){var groupName=$('[data-match-height]');var groupHeights=[];groupName.css('height','auto');groupName.find('.match-child').css('height','auto');groupName.each(function(){var $this=$(this);if($this.find('.match-child').length){groupHeights.push($this.find('.match-child').outerHeight())}else{groupHeights.push($this.outerHeight())}});var maxHeight=Math.max.apply(null,groupHeights)+10;groupName.each(function(){var $this=$(this);if($this.find('.match-child').length){$this.find('.match-child').css('height',maxHeight)}else{$this.css('height',maxHeight)}})};return{init:init}}();function initColumnContain(){$('.column-contain').each(function(){var $this=$(this),screen_width=$(window).width(),container_this=$this.closest('.container').width(),container_head=$('.footer > .container').width();if($this.hasClass('col-md')){var break_point=991}else{var break_point=767}
if(container_this>container_head&&screen_width>break_point){var padding=(container_this-container_head)/2;if($this.hasClass('contain-left')){$this.stop().css({paddingLeft:padding+'px'})}else if($(this).hasClass('contain-right')){$this.stop().css({paddingRight:padding+'px'})}}else{if($this.hasClass('contain-left')){$this.stop().css({paddingLeft:''})}else if($(this).hasClass('contain-right')){$this.stop().css({paddingRight:''})}}
setTimeout(function(){equalheight('.equal-height');initFullBgResize()},100)})}
function initMinHeight(){$('.min-height').each(function(){var min_height=$('.min-parent').outerHeight();$('.min-child').css('min-height',min_height+'px')})}
function initFullHeight(){$('.full-height').each(function(){var $this=$(this),$window=$(window),$header=$('.header'),screen_width=$(window).width()
full_height=$window.height();if(screen_width>768||$this.hasClass('full-height-m')){if(!$header.hasClass('overlap')){var full_height=full_height-$header.height()}
$this.css('height',full_height+'px')}else{$this.css('height','auto')}})}
function initFullSpan(){var spanWidth=parseInt($("body").width());var wallTouch=(((spanWidth-parseInt($('.the-content').css('width'))))/2);$('.span-full').each(function(){$(this).css({'width':spanWidth,'margin-left':-wallTouch,'visibility':'visible'})})}
function initFullBgResize(){var $full_background=$('.full-background');$full_background.each(function(){var $this=$(this),images=$this.attr('data-images').split(',');$this.backstretch(images,{duration:3000,fade:400,fadeFirst:!0});if($this.hasClass('parallax')){$this.parallasse({target:'img',transform:'scale3d(1.5, 1.5, 1.5)'})}});$(window).on('resize',function(){$full_background.backstretch('resize')})}
function initShortContent(){var windowH=$(window).height(),$header=$('.header'),$main=$('.main'),$footer=$('.footer'),headerH=$header.outerHeight(),footerH=$footer.outerHeight();var mainH=windowH-(headerH+footerH);if(mainH>0){$main.css('min-height',mainH+'px')}}
function initScreenCheck(){var win_width=$(window).width();if(win_width<992){$('.main-menu .the-menu').addClass('menu-mobile')}else{$('.header').not('.desktop-burger').find('.main-menu .the-menu').removeClass('menu-mobile')}}
function initCF7(){$(".form-row .wpcf7-form-control-wrap").on('hover',function(){$(this).find('.wpcf7-not-valid-tip').fadeOut()})}
function initCustomSelect(){$('select').not('.no-js').each(function(){var $this=$(this),numberOfOptions=$(this).children('option').length;$this.addClass('select-hidden');$this.wrap('<div class="select"></div>');$this.after('<div class="select-styled"></div>');var $styledSelect=$this.next('div.select-styled');$styledSelect.text($this.children('option').eq(0).text());var $list=$('<ul />',{'class':'select-options'}).insertAfter($styledSelect);for(var i=0;i<numberOfOptions;i++){$('<li />',{text:$this.children('option').eq(i).text(),rel:$this.children('option').eq(i).val()}).appendTo($list)}
var $listItems=$list.children('li');$styledSelect.click(function(e){e.stopPropagation();$('div.select-styled.active').not(this).each(function(){$(this).removeClass('active').next('ul.select-options').hide()});$(this).toggleClass('active').next('ul.select-options').slideToggle(100,'linear');$(this).parent().toggleClass('active')});$list.children('li').first().addClass('active');$listItems.click(function(e){e.stopPropagation();$list.children('li').removeClass('active');$styledSelect.text($(this).text()).removeClass('active');$styledSelect.parent().removeClass('active');$this.val($(this).attr('rel')).trigger('change');$list.hide();$(this).addClass('active')});$(document).click(function(){$styledSelect.removeClass('active');$styledSelect.parent().removeClass('active');$list.hide()})})}
function inlineGranteeFilterIsotope(){var $grid=$('.grantee-items').isotope({itemSelector:'.item',layoutMode:'fitRows'});$('.grantee-filter select').on('change',function(){var filterValue=this.value;$grid.isotope({filter:filterValue})});setTimeout(function(){$grid.isotope()});setTimeout(function(){$grid.addClass('is-showing-items').isotope('revealItemElements',$grid.find('.item'))},500)}
function inlineGranteeFilter(){$('.grantee-filter select').on('change',function(){var filterValue=this.value;if(filterValue!='*'){$('.grantee-items .item').not("[class*='"+filterValue+"']").removeClass('on').addClass('off');$(".grantee-items .item[class*='"+filterValue+"']").removeClass('off').addClass('on')}else{$(".grantee-items .item").removeClass('off').addClass('on')}})}
function inlinePopup(){$('.ip-container').inlinePopup({itemSelector:'.ip-item',detailsElem:'ip-details',activeFirst:!1,arrow:!1,scrollToViewPort:!1});$('.grantees .select-options li').on('click',function(){console.log('nice!');$('.grantees .inlinepopupClose').trigger('click')})}
function initAnimateIt(){$('.animatedParent').appear();$('.animatedClick').click(function(){var target=$(this).attr('data-target');if($(this).attr('data-sequence')!=undefined){var firstId=$("."+target+":first").attr('data-id');var lastId=$("."+target+":last").attr('data-id');var number=firstId;if($("."+target+"[data-id="+number+"]").hasClass('go')){$("."+target+"[data-id="+number+"]").addClass('goAway');$("."+target+"[data-id="+number+"]").removeClass('go')}else{$("."+target+"[data-id="+number+"]").addClass('go');$("."+target+"[data-id="+number+"]").removeClass('goAway')}
number++;delay=Number($(this).attr('data-sequence'));$.doTimeout(delay,function(){if($("."+target+"[data-id="+number+"]").hasClass('go')){$("."+target+"[data-id="+number+"]").addClass('goAway');$("."+target+"[data-id="+number+"]").removeClass('go')}else{$("."+target+"[data-id="+number+"]").addClass('go');$("."+target+"[data-id="+number+"]").removeClass('goAway')}
++number;if(number<=lastId){return!0}})}else{if($('.'+target).hasClass('go')){$('.'+target).addClass('goAway');$('.'+target).removeClass('go')}else{$('.'+target).addClass('go');$('.'+target).removeClass('goAway')}}});$(document.body).on('appear','.animatedParent',function(e,$affected){var ele=$(this).find('.animated');var parent=$(this);if(parent.attr('data-sequence')!=undefined){var firstId=$(this).find('.animated:first').attr('data-id');var number=firstId;var lastId=$(this).find('.animated:last').attr('data-id');$(parent).find(".animated[data-id="+number+"]").addClass('go');number++;delay=Number(parent.attr('data-sequence'));$.doTimeout(delay,function(){$(parent).find(".animated[data-id="+number+"]").addClass('go');++number;if(number<=lastId){return!0}})}else{ele.addClass('go')}});$(document.body).on('disappear','.animatedParent',function(e,$affected){if(!$(this).hasClass('animateOnce')){$(this).find('.animated').removeClass('go')}});$(window).on('load',function(){$.force_appear()})}
$(document).ready(function(){var ImgLazyLoad=new LazyLoad({threshold:0,callback_load:function(element){element.style.height='';element.classList.remove('js-lazy-notyet')}});ImgLazyLoad.update();initHero();initHomeHero();initPopup();initImageGallery();initImageLightbox();initColSlider();initTestimonialSlider();initListingsSlider();conformheight('.conform-height');matchHeight.init();initColumnContain();initMinHeight();initFullHeight();initFullSpan();initFullBgResize();initShortContent();initScreenCheck();initCF7();initCustomSelect();inlinePopup();initAnimateIt()});$(window).on('load',function(){initImageGallery();initImageLightbox();inlineGranteeFilter()});$(window).on('load resize',function(){initHero();initHomeHero();initPopupAdjust();equalheight('.equal-height');conformheight('.conform-height');initMinHeight();initFullHeight();initFullSpan();initShortContent();initScreenCheck();initColumnContain()});$(window).on('resize scroll',function(){initMinHeight();initImageGallery()});$(window).on('load resize scroll',function(){});$.fn.isInViewport=function(){var elementTop=$(this).offset().top;var elementBottom=elementTop+$(this).outerHeight();var viewportTop=$(window).scrollTop();var viewportBottom=viewportTop+$(window).height();return elementBottom>viewportTop&&elementTop<viewportBottom}})