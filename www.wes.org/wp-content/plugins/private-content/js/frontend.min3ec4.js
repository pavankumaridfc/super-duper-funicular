(function(b){var l=!1,k=!1,m=!1,n=!1,r=-1!==window.location.href.indexOf("?")?"&":"?";b(document).on("focus",".pc_field_container input",function(a){b(this).parents(".pc_field_container").addClass("pc_focused_field")}).on("blur",".pc_field_container input",function(a){b(this).parents(".pc_field_container").removeClass("pc_focused_field")});b(document).ready(function(a){a("body, form").on("click",".pc_auth_btn",function(c){c.preventDefault()});a("body, form").on("click",".pc_auth_btn:not(.pc_spinner_btn)",
function(c){c=a(this).parents("form");var d=c.serialize();t(c,d)});a(document).on("keyup",".pc_login_row input",function(c){if(13===c.keyCode)return a(this).parents("form").find(".pc_auth_btn").trigger("click"),!1})});var t=function(a,c,d){if(!m){if(!a.find('input[name="pc_auth_username"]').val()||!a.find('input[name="pc_auth_psw"]').val())return!1;var e=a.data("pc_redirect");a.find(".pc_auth_btn").addClass("pc_spinner_btn");a.find(".pc_login_smalls").fadeTo(200,0);a.find("#pc_auth_message").empty();
if(a.find(".pc_grecaptcha").length&&"undefined"==typeof d)return"undefined"==typeof grecaptcha&&alert("recaptcha script not loaded"),grecaptcha.ready(function(){grecaptcha.execute(a.find(".pc_grecaptcha").data("sitekey"),{action:"submit"}).then(function(f){t(a,c,f);return!0})}),!1;m=!0;b.ajax({type:"POST",url:window.location.href,dataType:"json",data:"type=js_ajax_auth&"+("undefined"==typeof d?"":"grecaptcha_token="+d+"&")+c,success:function(f){m=!1;setTimeout(function(){a.find(".pc_auth_btn").removeClass("pc_spinner_btn")},
370);if("success"==f.resp){a.find("#pc_auth_message").append('<div class="pc_success_mess"><span>'+f.mess+"<span></div>");var g="undefined"==typeof e||"refresh"==e?""==f.redirect||"refresh"==e?window.location.href+r+(new Date).getTime():f.redirect:e;setTimeout(function(){window.location.href=g},1E3)}else a.find("#pc_auth_message").empty().append('<div class="pc_error_mess"><span>'+f.mess+"</span></div>"),setTimeout(function(){a.find(".pc_login_smalls").fadeTo(200,1)},500)}})}};b(document).on("click",
".pc_login_remember_me small",function(){b(this).parents(".pc_login_remember_me").find(".pc_checkbox").trigger("click")});window.pc_login_smalls_display_check=function(){b(".pc_rm_login .pcma_psw_recovery_trigger").each(function(){var a=b(this).parents(".pc_login_form"),c=0;a.find(".pc_login_smalls > *").each(function(){c+=b(this).outerWidth(!0)});a.width()-c<a.find(".pc_auth_btn").outerWidth(!0)+10?a.addClass("pc_mobile_login"):a.removeClass("pc_mobile_login")})};window.pc_lf_labels_h_check=function(){b(".pc_login_form").not(".pc_lf_long_labels").each(function(){var a=
b(this).find("label[for=pc_auth_username]").outerHeight(),c=b(this).find('input[name="pc_auth_username"]').outerHeight(),d=b(this).find("label[for=pc_auth_psw]").outerHeight(),e=b(this).find('input[name="pc_auth_psw"]').outerHeight();(a>c||d>e)&&440<=b(window).width()?b(this).addClass("pc_lf_long_labels"):b(this).removeClass("pc_lf_long_labels")})};b(document).ready(function(a){var c;a(window).resize(function(){c&&clearTimeout(c);c=setTimeout(function(){pc_login_smalls_display_check();pc_lf_labels_h_check()},
50)})});b(document).ready(function(a){a(document).on("click",".pc_del_user_btn",function(c){c.preventDefault();c=a(this).parents("form");u(c)});a(document).on("keyup",".pc_del_user_form input",function(c){if(13===c.keyCode){var d=a(this).parents("form");u(d)}c.cancelBubble=!0;c.stopPropagation&&c.stopPropagation()})});var u=function(a){var c=a.find("input[name=pc_del_user_psw]").val();if(""!==b.trim(c)&&!n){n=!0;var d=a.data("pc_redirect");a.find(".pc_del_user_btn").addClass("pc_spinner_btn");a.find(".pc_user_del_message").empty();
b.ajax({type:"POST",url:window.location.href,dataType:"json",data:{type:"pc_del_user_ajax",pc_ud_psw:a.find("input[name=pc_del_user_psw]").val()},success:function(e){n=!1;setTimeout(function(){a.find(".pc_del_user_btn").removeClass("pc_spinner_btn")},370);"success"==e.resp?(a.find(".pc_user_del_message").append('<div class="pc_success_mess"><span>'+e.mess+"<span></div>"),setTimeout(function(){window.location.href=d},1E3)):a.find(".pc_user_del_message").empty().append('<div class="pc_error_mess"><span>'+
e.mess+"</span></div>")}})}};b(document).on("click",".pc_logout_btn",function(a){a.preventDefault();var c=b(this).data("pc_redirect");b(this).addClass("pc_spinner_btn");b.ajax({type:"POST",url:window.location.href,data:"type=pc_logout",success:function(d){d=b.trim(d);window.location.href="undefined"==typeof c?d?d:window.location.href+r+(new Date).getTime():c}})});b(document).ready(function(a){a("body, form").on("click",".pc_reg_btn",function(c){c.preventDefault()});a("body, form").on("click",".pc_reg_btn:not(.pc_spinner_btn)",
function(c){c=a(this).parents("form").first();var d=c.serialize();v(c,d)});a(document).on("keyup",".pc_registration_form input, .pc_registration_form textarea",function(c){if(13===c.keyCode){var d=a(this).parents("form");d.find("textarea").each(function(){a(this).val(a(this).val().replace(/\r\n|\r|\n/gi,"<br />"))});d.serialize();d.find("textarea").each(function(){a(this).val(a(this).val().replace(/<br \/>/gi,"\n"))});a(this).parents(".pc_registration_form").find(".pc_reg_btn").trigger("click")}c.cancelBubble=
!0;c.stopPropagation&&c.stopPropagation()})});var v=function(a,c,d){if(k||!a.pc_validate_form_fieldset())return!1;a.find(".pc_reg_btn").addClass("pc_spinner_btn");a.attr("id");var e="undefined"==typeof a.data("pc_cc")?"":a.data("pc_cc"),f=a.data("pc_redirect");if(a.find(".pc_grecaptcha").length&&"undefined"==typeof d)return"undefined"==typeof grecaptcha&&alert("recaptcha script not loaded"),grecaptcha.ready(function(){grecaptcha.execute(a.find(".pc_grecaptcha").data("sitekey"),{action:"submit"}).then(function(g){v(a,
c,g);return!0})}),!1;k=!0;a.find(".pc_form_response").empty();d="undefined"==typeof d?"":"&grecaptcha_token="+d;e="type=pc_registration&form_id="+a.attr("rel")+"&pc_cc="+e+d+"&"+a.serialize();b.ajax({type:"POST",url:window.location.href,data:e,dataType:"json",success:function(g){if("success"==g.resp){a.find(".pc_form_response").append('<div class="pc_success_mess"><span>'+g.mess+"<span></div>");if("undefined"!=typeof f&&"f-"!=f.substr(0,2)&&g.redirect&&-1!==g.redirect.indexOf("pay_for_order=true"))var h=
g.redirect;else h="undefined"!=typeof f?"f-"==f.substr(0,2)?f.substr(2):f:g.redirect,"refresh"==h&&(h=window.location.href);h&&setTimeout(function(){window.location.href=h},1E3)}else a.find(".pc_form_response").append('<div class="pc_error_mess">'+g.mess+"</div>"),b("#recaptcha_response_field").length&&Recaptcha.reload();setTimeout(function(){a.find(".pc_reg_btn").removeClass("pc_spinner_btn")},370);k=!1}})},w=function(){b(".pc_multiselect, .pc_singleselect").length&&"function"==typeof b.fn.multipleSelect&&
(b(".pc_multiselect select").each(function(){b(this).multipleSelect({selectAll:!1,filter:!0,countSelected:pc_ms_countSelected,allSelected:pc_ms_allSelected,placeholder:b(this).data("placeh")})}),b(".pc_singleselect select").each(function(){b(this).multipleSelect({single:!0,selectAll:!1,filter:!0,placeholder:b(this).data("placeh")})}),setTimeout(function(){b(".ms-search input").attr("placeholder",pc_ms_search_placeh+" ..");b(".ms-search .ms-no-results").text(pc_ms_search_nores+" ..")},50))};b(document).ready(function(a){w()});
window.pc_checkboxes_setup=function(){b(".pc_login_form input[type=checkbox], .pc_check_wrap input[type=checkbox], .pc_single_check input[type=checkbox], .pc_rf_disclaimer input[type=checkbox]").each(function(){if(b(this).hasClass("pc_checkboxed"))return!0;var a=b(this);a.addClass("pc_checkboxed");var c=a.is(":checked")?"pc_checked":"";a.after('<div class="pc_checkbox '+c+'" data-name="'+a.attr("name")+'" data-val="'+a.val()+'"><span>&#10003;</span></div>')});b(document).off("click","div.pc_checkbox").on("click",
"div.pc_checkbox",function(){var a=b(this),c=a.prev('input[type=checkbox][name="'+a.data("name")+'"][value="'+a.data("val")+'"]');if(!c.length)return!0;a.hasClass("pc_checked")?a.removeClass("pc_checked"):a.addClass("pc_checked");c[0].checked=!c[0].checked;c.trigger("input")})};b(document).ready(function(a){pc_checkboxes_setup()});var p=function(){b(".pc_fluid_form").each(function(){var a=b(this).width();a=Math.round(a/315);5<a&&(a=5);1>a&&(a=1);if("undefined"!=typeof b(this).attr("pc_col")){var c=
b(this).attr("pc_col");a!=c&&b(this).removeClass("pc_form_"+c+"col")}b(this).attr("pc_col",a);b(this).addClass("pc_form_"+a+"col")})};b(document).ready(function(a){p();var c;a(window).resize(function(){c&&clearTimeout(c);c=setTimeout(function(){p()},50)})});b(document).ready(function(a){a("body, form").on("click",".pc_pag_btn",function(c){if(l||k)return!0;var d=a(this).parents("form"),e=d.find("fieldset").length,f=parseInt(d.data("form-pag")),g=d.find("fieldset.pc_f_pag_"+f);if(!d.pc_validate_form_fieldset())return a("body, html").animate({scrollTop:d.find("fieldset").not(".pc_hidden_fieldset").find(".pc_field_error").first().offset().top-
50},500),!0;if(a(c.target).hasClass("pc_pag_next")){var h=f+1;if(h>e)return!0;var q=d.find("fieldset.pc_f_pag_"+h)}else{h=f-1;if(0>h)return!0;q=d.find("fieldset.pc_f_pag_"+h)}l=!0;d.css("height",d.outerHeight());d.data("form-pag",h);d.find("> *").animate({opacity:0},150);setTimeout(function(){q.removeClass("pc_hidden_fieldset");var x=d.outerHeight()-g.outerHeight(!0)+q.outerHeight(!0);d.animate({height:x},300);g.addClass("pc_hidden_fieldset");h==e?d.find(".pc_pag_submit").show():d.find(".pc_pag_submit").hide();
setTimeout(function(){d.find("fieldset, .pc_pag_submit, .pc_pag_btn, .pc_form_response").animate({opacity:1},150);h==e?d.find(".pc_pag_next").css("visibility","hidden"):d.find(".pc_pag_next").css("visibility","visible");1==h?d.find(".pc_pag_prev").css("visibility","hidden"):d.find(".pc_pag_prev").css("visibility","visible");d.css("height","auto");l=!1},350)},300)})});b.fn.pc_validate_fields=function(){if("undefined"==typeof pc_html5_validation||!pc_html5_validation||"function"!=typeof document.createElement("input").checkValidity)return!0;
var a=!0,c={};b(this).each(function(){if(b(this).parents(".pc_check_wrap").length&&b(this).parents("section").find(".pc_req_field").length)return c[b(this).attr("name")]=b(this).parents("section.pc_rf_field"),!0;if(b(this).is("input")&&"undefined"==typeof b(this).attr("name"))return!0;b(this).parents("section.pc_rf_field, section.pc_rf_disclaimer").find(".pc_field_error").remove();if(!b(this)[0].checkValidity()){a=!1;var d=b(this)[0].validationMessage;"."==d.substr(d.length-1)&&(d=d.substr(0,d.length-
1));b(this).parents("section.pc_rf_field, section.pc_rf_disclaimer").prepend('<div class="pc_field_error">'+d+"</div>")}});b.each(c,function(d,e){var f=!0;e.find(".pc_field_error").remove();e.find("input[type=checkbox]").each(function(){if(b(this).is(":checked"))return f=!1});if(f){var g=b('<input type="checkbox" name="" required="required" />')[0].validationMessage;"."==g.substr(g.length-1)&&(g=g.substr(0,g.length-1));e.prepend('<div class="pc_field_error">'+g+"</div>")}});return a};b.fn.pc_validate_form_fieldset=
function(){return b(this).find("fieldset").not(".pc_hidden_fieldset").find("input, select, textarea").pc_validate_fields()};b(document).ready(function(a){a("body, form").on("change keyup",".pc_rf_field input, .pc_rf_field select, .pc_rf_field textarea, .pc_rf_disclaimer input",function(){a(this).pc_validate_fields()&&a(this).parents(".pc_rf_field").find(".pc_field_error").pc_close_tooltip()})});b.fn.pc_close_tooltip=function(){var a=b(this);a.addClass("pc_fe_closing");setTimeout(function(){a.remove()},
310)};b(document).ready(function(a){a("body, form").on("click",".pc_field_error",function(){a(this).parents("form").find(".pc_field_error").each(function(){a(this).pc_close_tooltip()})})});b(document).ready(function(a){if("undefined"!=typeof pc_lb_classes&&"undefined"!=typeof a.magnificPopup){var c=setInterval(function(){var d=[];a.each(pc_lb_classes,function(e,f){var g=f.replace(".pc_lb_trig_","");if(-1!==a.inArray(g,pc_ready_lb))return!0;a(f).length&&(d.push(g),pc_ready_lb.push(g))});d.length&&
a.ajax({type:"POST",url:window.location.href,data:{type:"pc_lightbox_load",ids:d},success:function(e){a("#pc_lb_codes").append(e)}});pc_lb_classes.length==pc_ready_lb.length&&clearInterval(c)},200);a.each(pc_lb_classes,function(d,e){var f=e.replace(".pc_lb_trig_","");a(document).on("click",e,function(g){if(!a(".pc_lb_"+f).length)return!0;g.preventDefault();a.magnificPopup.open({items:{src:".pc_lb_"+f,type:"inline"},mainClass:"pc_lightbox",closeOnContentClick:!1,closeOnBgClick:!1,preloader:!1,modal:a(this).hasClass("pc_modal_lb")?
!0:!1,focus:"input",removalDelay:300,callbacks:{open:function(){w();pc_checkboxes_setup();p();a(".pc_lightbox_contents > *").eq(-2).hasClass("pc_aligned_form")&&a(".pc_lightbox_contents > *").eq(-2).find("form").css("margin-bottom",0);a(document).trigger("pc_opening_lightbox")}}});return!1})})}})})(jQuery);